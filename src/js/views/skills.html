<!--
 Copyright (c) 2014, 2018, Oracle and/or its affiliates.
 The Universal Permissive License (UPL), Version 1.0
 -->
<div class="oj-hybrid-padding">

    <h1>Skills List</h1>
    <oj-button on-click="[[addSkill]]">Add Skill</oj-button>
    <oj-button on-click="[[saveChanges]]">Save Changes</oj-button>

    <div>
        <oj-data-grid 
            id="datagrid"
            style="height: 500px"
            data="[[dataSource]]"
            header.column.style="[[getColumnWidth]]"
            edit-mode="cellNavigation"
            on-oj-before-edit-end="[[handleEditEnd]]"
            banding-interval.row="1"
            dnd.reorder.row="enable"
            header.column.renderer="[[oj.KnockoutTemplateUtils.getRenderer('header_template')]]"
            header.column.style="width:300px"
            cell.renderer="[[getCellTemplate]]"
            cell.class-name="oj-helper-justify-content-flex-start">
        </oj-data-grid>

        <script type="text/html" id="cellTemplate">
            <!-- ko if: $context.cell.data =='High' -->
                <span data-bind="text:$context.cell.data, style: {color:'red'}"></span>
            <!-- /ko -->
            <!-- ko if: $context.cell.data =='Medium' -->
                <span data-bind="text:$context.cell.data, style: {color:'orange'}"></span>
            <!-- /ko -->
            <!-- ko if: $context.cell.data =='Low' -->
            <span data-bind="text:$context.cell.data, style: {color:'green'}"></span>
            <!-- /ko -->
            <!-- ko ifnot: $context.cell.data =='High' || $context.cell.data =='Medium' || $context.cell.data =='Low'-->
                <span data-bind="text: $context.cell.data"></span>
            <!-- /ko -->
        </script>
        
        <script type="text/html" id="editCellTemplate">
            
            <!-- ko if: $context.keys.column == 'type' || $context.keys.column == 'name' -->
                <oj-input-text value="{{$context.cell.data}}" ></oj-input-text>
            <!-- /ko  -->

            <!-- ko if: $context.keys.column == 'ModernApps' || $context.keys.column == 'iPaas' || $context.keys.column == 'DevOps'-->
            <oj-select-one value="{{$context.cell.data}}" class="oj-helper-text-align-start" style="width:100%;height:100%;">
                <oj-option value="Yes">Yes</oj-option>
                <oj-option value="No">No</oj-option>
            </oj-select-one>
            <!-- /ko  -->

            <!-- ko if: $context.keys.column == 'priority' -->
            <oj-select-one value="{{$context.cell.data}}" class="oj-helper-text-align-start" style="width:100%;height:100%;">
                <oj-option value="High" style="color:red">High</oj-option>
                <oj-option value="Medium" style="color:orange">Medium</oj-option>
                <oj-option value="Low" style="color:green">Low</oj-option>
            </oj-select-one>
            <!-- /ko  -->

            <!-- <oj-input-text value="{{$context.cell.data}}" ></oj-input-text> -->

        </script>
        
        <script type="text/html" id="header_template">
        <!-- ko if: $context.key=='name' -->            
            <span data-bind="text: 'Skill Name'"></span>

        <!-- /ko -->
        <!-- ko if: $context.key=='type' -->
            <span data-bind="text: 'Skill Type'"></span>
        <!-- /ko -->
        <!-- ko if: $context.key=='iPaas' -->
            <span data-bind="text: 'iPaaS'"></span>
        <!-- /ko -->
        <!-- ko if: $context.key=='ModernApps' -->
            <span data-bind="text: 'Modern Apps'"></span>
        <!-- /ko -->
        <!-- ko if: $context.key=='DevOps' -->
        <span data-bind="text: 'DevOps'"></span>                                        
        <!-- /ko -->
        <!-- ko if: $context.key=='priority' -->
            <span data-bind="text: 'Priority'"></span>
        <!-- /ko -->
        </script>	
    </div>
</div>
